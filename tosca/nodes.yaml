tosca_definitions_version: tosca_simple_yaml_1_0

node_types:
  tosca.nodes.Compute.Time:
    derived_from: tosca.nodes.Compute
    description: Adds time property to host
    properties:
      runnning_time:
        type: integer
        required: false
        description: "the time units needed for this resource to execute the assigned workflow tasks"
      num_cpus:
        type: integer
        required: true
        default: 1
        constraints:
          - greater_or_equal: 1        
      disk_size:
        type: scalar-unit.size
        required: true
        default: 20000 MB
        constraints:
          - greater_or_equal: 500 MB          
          
    capabilities:
      host:
        type: tosca.capabilities.Host.Software
    requirements:
      - host:
          capability: tosca.capabilities.Host.Compute   
          node: tosca.nodes.CloudProvider
          relationship: tosca.relationships.HostedOn

  tosca.nodes.CloudProvider:
    derived_from: tosca.nodes.SoftwareComponent
    properties:
      provider:
        description: "Name of cloud provider"
        type: string
        required: true
        default: "Azure"
      datacenter:
        description: "Location of data center"
        type: string
        required: true
        default: "West Europe"
    capabilities:
      host:
        type: tosca.capabilities.Host.Compute 
        
        
capability_types:

  tosca.capabilities.Host.Compute:
    derived_from: tosca.capabilities.Root
    properties:
      some_properties:
        type: string
        required: no        
        
  tosca.capabilities.Host.Software:
    derived_from: tosca.capabilities.Root
    properties:
      some_properties:
        type: string
        required: no              
